/**
 * Plugin manifest metadata.
 */
const manifest = Object.freeze({
	schemaVersion: 1,
	type: 'BridgeAlexaShopping',
	defaultEnabled: false,
	supportsMultiple: true,
	supportsChannelRouting: false,
	title: {
		en: 'Alexa shopping list bridge',
		de: 'Alexa-Einkaufslisten-Bridge',
		ru: 'Мост списка покупок Alexa',
		pt: 'Ponte da lista de compras Alexa',
		nl: 'Alexa boodschappenlijst-bridge',
		fr: 'Pont de liste de courses Alexa',
		it: 'Bridge della lista della spesa Alexa',
		es: 'Puente de lista de compras Alexa',
		pl: 'Most listy zakupów Alexa',
		uk: 'Міст списку покупок Alexa',
		'zh-cn': 'Alexa 购物清单桥接',
	},
	description: {
		en: 'Bidirectional sync between an Alexa list (alexa2) and a Message Hub shopping list.',
		de: 'Bidirektionale Synchronisation zwischen einer Alexa-Liste (alexa2) und einer Message Hub Einkaufsliste.',
		ru: 'Двунаправленная синхронизация между списком Alexa (alexa2) и списком покупок Message Hub.',
		pt: 'Sincronização bidirecional entre uma lista Alexa (alexa2) e uma lista de compras do Message Hub.',
		nl: 'Bidirectionele synchronisatie tussen een Alexa-lijst (alexa2) en een Message Hub boodschappenlijst.',
		fr: 'Synchronisation bidirectionnelle entre une liste Alexa (alexa2) et une liste de courses Message Hub.',
		it: 'Sincronizzazione bidirezionale tra una lista Alexa (alexa2) e una lista della spesa di Message Hub.',
		es: 'Sincronización bidireccional entre una lista de Alexa (alexa2) y una lista de compras de Message Hub.',
		pl: 'Dwukierunkowa synchronizacja między listą Alexa (alexa2) a listą zakupów Message Hub.',
		uk: 'Двонаправлена синхронізація між списком Alexa (alexa2) та списком покупок Message Hub.',
		'zh-cn': '在 Alexa 列表（alexa2）与 Message Hub 购物清单之间进行双向同步。',
	},
	options: {
		jsonStateId: {
			order: 10,
			type: 'string',
			holdsInstanceTitle: true,
			label: { en: 'Alexa list JSON state id', de: 'Alexa-JSON-State-ID' },
			help: {
				en: 'State id that contains the Alexa list items as JSON array (e.g. alexa2.0.Lists.SHOP.json).',
				de: 'State-ID, die die Alexa-List-Items als JSON-Array enthält (z.B. alexa2.0.Lists.SHOP.json).',
			},
			default: 'alexa2.0.Lists.SHOP.json',
		},
		_headerMessage: {
			order: 20,
			type: 'header',
			label: { en: 'Message setup', de: '"Message"-Einstellungen' },
		},
		listTitle: {
			order: 30,
			type: 'string',
			label: { en: 'List title', de: 'Listentitel' },
			help: { en: 'Message title in Message Hub.', de: 'Nachrichten-Titel in Message Hub.' },
			default: 'Alexa shopping list',
		},
		location: {
			order: 40,
			type: 'string',
			label: { en: 'Location', de: 'Ort' },
			help: { en: 'Written to message details.location.', de: 'Wird in details.location geschrieben.' },
			default: 'Supermarket',
		},
		audienceTagsCsv: {
			order: 50,
			type: 'string',
			label: { en: 'Inbound audience tags (CSV)', de: 'Inbound Audience-Tags (CSV)' },
			help: {
				en: 'Comma-separated tags copied to message audience.tags (Alexa → MsgHub).',
				de: 'Kommagetrennte Tags, die nach audience.tags kopiert werden (Alexa → MsgHub).',
			},
			default: '',
		},
		audienceChannelsIncludeCsv: {
			order: 55,
			type: 'string',
			label: { en: 'Inbound audience channels include (CSV)', de: 'Inbound Audience-Channels include (CSV)' },
			help: {
				en: 'Comma-separated channels copied to message audience.channels.include (Alexa → MsgHub).',
				de: 'Kommagetrennte Channels, die nach audience.channels.include kopiert werden (Alexa → MsgHub).',
			},
			default: '',
		},
		audienceChannelsExcludeCsv: {
			order: 56,
			type: 'string',
			label: { en: 'Inbound audience channels exclude (CSV)', de: 'Inbound Audience-Channels exclude (CSV)' },
			help: {
				en: 'Comma-separated channels copied to message audience.channels.exclude (Alexa → MsgHub).',
				de: 'Kommagetrennte Channels, die nach audience.channels.exclude kopiert werden (Alexa → MsgHub).',
			},
			default: '',
		},
		keepCompleted: {
			order: 60,
			type: 'number',
			unit: 'ms',
			label: { en: 'Keep completed items (ms)', de: 'Erledigte Items behalten (ms)' },
			help: {
				en: 'Retention time for completed items in milliseconds. After this duration, completed items are deleted (also in Alexa). Use 0 to never delete completed items.',
				de: 'Haltedauer für erledigte Items in Millisekunden. Nach Ablauf werden erledigte Items gelöscht (auch in Alexa). 0 = erledigte Items niemals löschen.',
			},
			min: 0,
			max: 7 * 24 * 60 * 60 * 1000,
			step: 60 * 1000,
			default: 12 * 60 * 60 * 1000,
		},
		_headerParsing: {
			order: 65,
			type: 'header',
			label: { en: 'Parsing', de: 'Parsing' },
		},
		parseItemText: {
			order: 66,
			type: 'boolean',
			label: { en: 'Parse item text', de: 'Item-Text parsen' },
			help: {
				en: 'Parse quantities/units from Alexa item strings (e.g. "6x Butter 500g") into listItems.quantity/perUnit.',
				de: 'Parst Mengen/Einheiten aus Alexa-Item-Strings (z.B. "6x Butter 500g") in listItems.quantity/perUnit.',
			},
			default: true,
		},
		_headerSync: {
			order: 70,
			type: 'header',
			label: { en: 'Synchronisation', de: 'Synchronisierung' },
		},
		fullSyncIntervalMs: {
			order: 80,
			type: 'number',
			unit: 'ms',
			label: { en: 'Full sync interval', de: 'Full-Sync Intervall' },
			help: {
				en: 'Periodic full sync interval; 0 disables.',
				de: 'Periodisches Full-Sync-Intervall; 0 deaktiviert.',
			},
			min: 0,
			max: 24 * 60 * 60 * 1000,
			step: 60 * 1000,
			default: 60 * 60 * 1000,
		},
		conflictWindowMs: {
			order: 90,
			type: 'number',
			unit: 'ms',
			label: { en: 'Conflict window', de: 'Konfliktfenster' },
			help: {
				en: 'Debounce window for conflict enforcement after outbound writes.',
				de: 'Debounce-Fenster für Konflikt-Enforce nach Outbound-Writes.',
			},
			min: 0,
			max: 60 * 1000,
			step: 250,
			default: 5000,
		},
		_headerAI: {
			order: 100,
			type: 'header',
			label: { en: 'AI enhancement (add categories)', de: 'KI-Ergänzungen (Kategorien hinzufügen)' },
		},
		aiEnhancement: {
			order: 110,
			type: 'boolean',
			label: { en: 'AI enhancement', de: 'AI-Enhancement' },
			help: {
				en: 'When enabled, the plugin can enrich list items (e.g. category assignment) using MsgHub AI.',
				de: 'Wenn aktiviert, kann das Plugin List-Items (z.B. Kategorien) über MsgHub AI anreichern.',
			},
			default: true,
		},
		categoriesCsv: {
			order: 120,
			type: 'string',
			label: { en: 'Categories (CSV)', de: 'Kategorien (CSV)' },
			help: {
				en: 'Comma-separated allowed categories for AI assignment. The last entry is used as fallback.',
				de: 'Kommagetrennte erlaubte Kategorien für AI-Zuweisung. Der letzte Eintrag ist der Fallback.',
			},
			default: 'Produce,Bakery,Dairy,Meat,Frozen,Pantry,Drinks,Household,Hygiene,Other',
		},
		aiMinConfidencePct: {
			order: 130,
			type: 'number',
			unit: '%',
			label: { en: 'AI min confidence', de: 'AI Mindest-Confidence' },
			help: {
				en: 'Minimum confidence required to accept an AI category. Otherwise the fallback category is used.',
				de: 'Mindest-Confidence für AI-Kategorien. Sonst wird die Fallback-Kategorie genutzt.',
			},
			min: 0,
			max: 100,
			step: 1,
			default: 80,
		},
	},
});

module.exports = { manifest };
