/* tab.css â€” MsgHub Admin Tab base styles (scoped to .msghub-root)
 *
 * Governance:
 * - Base only: tokens + generic rules used across panels/modules
 * - No panel-specific styling here (use tab.<panel>.css / tab.<panel>.<module>.css)
 * - Keep it boring: prioritize density, legibility, and consistency with ioBroker Admin
 */

.msghub-root {
	/* Theme tokens (keep minimal; panels/modules consume these) */
	--msghub-bg: rgb(255 255 255);
	--msghub-text: rgb(0 0 0 / 0.87);
	--msghub-muted: rgb(0 0 0 / 0.6);
	--msghub-backdrop: rgb(140 140 140 / 0.55);

	--msghub-border: rgb(0 0 0 / 0.12);
	--msghub-border-light: rgb(0 0 0 / 0.08);

	--msghub-accent: rgb(51 153 204);
	--msghub-ok: rgb(38 166 154);
	--msghub-ok-dim: rgb(38 166 154 / 0.1);
	--msghub-warning: rgb(230 145 56);
	--msghub-warning-dim: rgb(230 145 56 / 0.1);
	--msghub-danger: rgb(211 47 47);
	--msghub-danger-dim: rgb(211 47 47 / 0.1);

	/* Chart palette (data viz; used by stats panel). */
	--msghub-chart-1: rgb(38 166 154);
	--msghub-chart-2: rgb(66 165 245);
	--msghub-chart-3: rgb(171 71 188);
	--msghub-chart-4: rgb(255 167 38);
	--msghub-chart-5: rgb(239 83 80);
	--msghub-chart-6: rgb(141 110 99);
	--msghub-chart-7: rgb(38 198 218);
	--msghub-chart-8: rgb(124 179 66);
	--msghub-chart-9: rgb(255 112 67);
	--msghub-chart-10: rgb(92 107 192);
	--msghub-chart-11: rgb(216 27 96);
	--msghub-chart-12: rgb(253 216 53);
	--msghub-chart-neutral: rgb(207 216 220);

	/* Syntax highlighting (message JSON viewer). */
	--msghub-syntax-key: rgb(4 81 165);
	--msghub-syntax-string: rgb(163 21 21);
	--msghub-syntax-number: rgb(9 134 88);
	--msghub-syntax-bool: rgb(0 0 255);
	--msghub-syntax-null: rgb(0 0 255);
	--msghub-syntax-punct: rgb(0 0 0);
	--msghub-syntax-comment: rgb(0 128 0);

	/* Typography (central presets; avoid ad-hoc font-weight/size usage) */
	--msghub-font-sans:
		system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, 'Apple Color Emoji', 'Segoe UI Emoji';
	--msghub-font-mono:
		ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;

	--msghub-fw-light: 400;
	--msghub-fw-med: 600;
	--msghub-fw-bold: 700;

	--msghub-fs-sm: 12px;
	--msghub-fs-md: 14px;
	--msghub-fs-lg: 16px;
	--msghub-fs-xl: 18px;

	--msghub-lh-tight: 1.2;
	--msghub-lh-normal: 1.4;
	--msghub-lh-solid: 1;

	--msghub-font-header: normal var(--msghub-fw-bold) var(--msghub-fs-xl) / var(--msghub-lh-normal)
		var(--msghub-font-sans);
	--msghub-font-body: normal var(--msghub-fw-light) var(--msghub-fs-md) / var(--msghub-lh-normal)
		var(--msghub-font-sans);
	--msghub-font-tab: normal var(--msghub-fw-med) var(--msghub-fs-lg) / var(--msghub-lh-tight) var(--msghub-font-sans);
	--msghub-font-badge: normal var(--msghub-fw-bold) var(--msghub-fs-sm) / var(--msghub-lh-solid)
		var(--msghub-font-sans);

	/* Surfaces / effects (keep all color literals in this token section) */
	--msghub-surface-hover: rgb(0 0 0 / 0.04);
	--msghub-surface-selected: rgb(0 0 0 / 0.07);
	--msghub-shadow-md: rgb(0 0 0 / 0.16);

	--msghub-radius: 4px;

	/* Density (base scale; can be overridden centrally later) */
	--msghub-space-1: 4px;
	--msghub-space-2: 6px;
	--msghub-space-3: 10px;
	--msghub-space-4: 14px;
}

html[data-msghub-theme='dark'] .msghub-root {
	--msghub-bg: rgb(18 18 18);
	--msghub-text: rgb(255 255 255 / 0.88);
	--msghub-muted: rgb(255 255 255 / 0.64);
	--msghub-backdrop: rgb(0 0 0 / 0.65);

	--msghub-border: rgb(255 255 255 / 0.08);
	--msghub-border-light: rgb(255 255 255 / 0.06);

	--msghub-accent: rgb(51 153 204);
	--msghub-ok: rgb(45 212 191);
	--msghub-ok-dim: rgb(45 212 191 / 0.14);
	--msghub-warning: rgb(255 170 90);
	--msghub-warning-dim: rgb(255 170 90 / 0.16);
	--msghub-danger: rgb(239 83 80);
	--msghub-danger-dim: rgb(239 83 80 / 0.14);

	--msghub-chart-1: rgb(45 212 191);
	--msghub-chart-2: rgb(96 165 250);
	--msghub-chart-3: rgb(192 132 252);
	--msghub-chart-4: rgb(255 170 90);
	--msghub-chart-5: rgb(239 83 80);
	--msghub-chart-6: rgb(168 138 126);
	--msghub-chart-7: rgb(34 211 238);
	--msghub-chart-8: rgb(163 230 53);
	--msghub-chart-9: rgb(251 146 60);
	--msghub-chart-10: rgb(129 140 248);
	--msghub-chart-11: rgb(244 114 182);
	--msghub-chart-12: rgb(253 224 71);
	--msghub-chart-neutral: rgb(77 88 94);

	--msghub-syntax-key: rgb(156 220 254);
	--msghub-syntax-string: rgb(206 145 120);
	--msghub-syntax-number: rgb(181 206 168);
	--msghub-syntax-bool: rgb(86 156 214);
	--msghub-syntax-null: rgb(86 156 214);
	--msghub-syntax-punct: rgb(212 212 212);
	--msghub-syntax-comment: rgb(106 153 85);

	--msghub-surface-hover: rgb(255 255 255 / 0.1);
	--msghub-surface-selected: rgb(255 255 255 / 0.16);
	--msghub-shadow-md: rgb(0 0 0 / 0.4);
}

html[data-msghub-theme='dark'] {
	color-scheme: dark;
}
html:not([data-msghub-theme='dark']) {
	color-scheme: light;
}

html,
body {
	height: 100%;
}
body {
	margin: 0;
	overflow: hidden;
}

/* Base */
.msghub-root,
.msghub-root * {
	box-sizing: border-box;
}

.msghub-root {
	background: var(--msghub-bg);
	color: var(--msghub-text);
	height: 100vh;
	display: flex;
	flex-direction: column;
	overflow: hidden;
	padding: var(--msghub-space-3);
	font: var(--msghub-font-body);
}

.msghub-root a {
	color: inherit;
}

/* Primary navigation (tabs) + connection status */
.msghub-root #msghub-layout {
	flex: 1 1 auto;
	min-height: 0;
	display: flex;
	flex-direction: column;
	gap: var(--msghub-space-3);
}

.msghub-root .msghub-tabs {
	display: flex;
	align-items: center;
	gap: var(--msghub-space-2);
	padding: var(--msghub-space-2);
	border: 1px solid var(--msghub-border);
	border-radius: var(--msghub-radius);
	margin-bottom: var(--msghub-space-3);
}

.msghub-root .msghub-tab {
	display: inline-flex;
	align-items: center;
	padding: 6px 10px;
	border-radius: var(--msghub-radius);
	text-decoration: none;
	font: var(--msghub-font-tab);
	white-space: nowrap;
}

.msghub-root .msghub-tab:hover {
	background: var(--msghub-surface-hover);
}

.msghub-root .msghub-tab.is-active {
	background: transparent;
	color: var(--msghub-accent);
}

.msghub-root .msghub-tab.is-active:hover {
	background: transparent;
}

.msghub-root .msghub-tabs-spacer {
	flex: 1 1 auto;
	min-width: 0;
}

.msghub-root #msghub-connection {
	align-self: flex-end;
	padding: 5px 10px;
	border-radius: 999px;
	border: 1px solid var(--msghub-border);
	font: var(--msghub-font-badge);
	white-space: nowrap;
}

html[data-msghub-layout='tabs'] .msghub-root #msghub-connection {
	position: fixed;
	top: 20px;
	right: 20px;
}

.msghub-root #msghub-connection.online {
	color: var(--msghub-ok);
	border-color: var(--msghub-ok);
	background: var(--msghub-ok-dim);
}

.msghub-root #msghub-connection.offline {
	color: var(--msghub-danger);
	border-color: var(--msghub-danger);
	background: var(--msghub-danger-dim);
}

.msghub-root .msghub-panel[hidden] {
	display: none !important;
}

.msghub-root .msghub-panel {
	flex: 1 1 auto;
	min-height: 0;
	overflow: auto;
	overflow-x: hidden;
	scrollbar-gutter: stable;
}

/* States */
.msghub-root .is-hidden {
	display: none !important;
}

.msghub-root.is-modal-open .msghub-panel {
	overflow: hidden;
}

/* Universal UI infrastructure */
.msghub-root .msghub-toast-host {
	position: fixed;
	right: var(--msghub-space-3);
	bottom: var(--msghub-space-3);
	z-index: 1200;
	display: flex;
	flex-direction: column;
	gap: var(--msghub-space-2);
	align-items: flex-end;
	pointer-events: none;
}

.msghub-root .msghub-toast {
	pointer-events: auto;
	max-width: min(520px, calc(100vw - 2 * var(--msghub-space-3)));
	background: var(--msghub-bg);
	color: var(--msghub-text);
	border: 1px solid var(--msghub-border);
	border-radius: var(--msghub-radius);
	box-shadow: 0 6px 18px var(--msghub-shadow-md);
	padding: var(--msghub-space-2) var(--msghub-space-3);
	font: var(--msghub-font-body);
}

.msghub-root .msghub-overlay-backdrop,
.msghub-root .msghub-dialog-backdrop {
	position: fixed;
	inset: 0;
	z-index: 1100;
	display: flex;
	align-items: center;
	justify-content: center;
	padding: var(--msghub-space-3);
	background: var(--msghub-backdrop);
}

.msghub-root .msghub-overlay-backdrop {
	z-index: 1050;
}

.msghub-root .msghub-overlay,
.msghub-root .msghub-dialog {
	width: min(980px, 100%);
	max-height: min(86vh, 100%);
	background: var(--msghub-bg);
	color: var(--msghub-text);
	border: 1px solid var(--msghub-border);
	border-radius: var(--msghub-radius);
	box-shadow: 0 10px 28px var(--msghub-shadow-md);
	display: flex;
	flex-direction: column;
	min-height: 0;
}

.msghub-root .msghub-dialog {
	width: min(520px, 100%);
	max-height: min(70vh, 100%);
}

.msghub-root .msghub-overlay-head {
	display: flex;
	align-items: center;
	gap: var(--msghub-space-2);
	padding: var(--msghub-space-2) var(--msghub-space-3);
	border-bottom: 1px solid var(--msghub-border);
}

.msghub-root .msghub-overlay-title {
	flex: 1 1 auto;
	min-width: 0;
	font: var(--msghub-font-tab);
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
}

.msghub-root .msghub-overlay-body {
	flex: 1 1 auto;
	min-height: 0;
	overflow: auto;
	padding: var(--msghub-space-3);
}

.msghub-root .msghub-dialog-title {
	margin: 0;
	padding: var(--msghub-space-3) var(--msghub-space-3) 0 var(--msghub-space-3);
	font: var(--msghub-font-tab);
}

.msghub-root .msghub-dialog-body {
	padding: var(--msghub-space-2) var(--msghub-space-3);
	overflow: auto;
}

.msghub-root .msghub-dialog-actions {
	display: flex;
	justify-content: flex-end;
	gap: var(--msghub-space-2);
	padding: var(--msghub-space-2) var(--msghub-space-3) var(--msghub-space-3) var(--msghub-space-3);
	border-top: 1px solid var(--msghub-border);
}

.msghub-root .msghub-overlay-body pre {
	margin: 0;
	font-family: var(--msghub-font-mono);
	font-size: var(--msghub-fs-sm);
	line-height: var(--msghub-lh-normal);
	white-space: pre;
}
